{"version":3,"sources":["../main.js"],"names":["version","process","argv","file","then","words","res","Promise","resolve","result","console","log"],"mappings":";;AAGA;;;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,oBACKA,OADL,CACa,OADb;AAEA;AACA;;AAZA;;;AAcA,IAAGC,QAAQC,IAAR,CAAa,CAAb,CAAH,EAAmB;AACf,QAAIC,OAAOF,QAAQC,IAAR,CAAa,CAAb,CAAX;;AAEJ,wBAASC,IAAT,EAAe,OAAf,EACKC,IADL,CACU,eAAO;;AAET;AACA,YAAIC,QAAQ,8BAAc,0BAAUC,GAAV,CAAd,CAAZ;;AAEA;AACA,eAAO,qBAAUD,KAAV,EACFD,IADE,CACI;AAAA,mBAAMG,QAAQC,OAAR,CAAgBH,KAAhB,CAAN;AAAA,SADJ,CAAP;AAEH,KATL,EAUKD,IAVL,CAUU,eAAO;AACT,YAAIK,SAASH,GAAb;AACAI,gBAAQC,GAAR,CAAYF,MAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,KA3BL;AA4BC","file":"main.js","sourcesContent":["/**\n * Created by hsuanlee on 16/05/2017.\n */\nimport commander from 'commander'\nimport {readFile, writeTemp, writeResult} from './src/file'\nimport {parseWord, wordFrequency} from './src/parse-word'\nimport { getTranslation } from './src/translation'\nimport when from 'when'\n\ncommander\n    .version('0.0.1')\n// .option('-l, --list [list]', 'list')\n// .parse(process.argv)\n\nif(process.argv[2]){\n    let file = process.argv[2];\n\nreadFile(file, 'utf-8')\n    .then(res => {\n\n        // 生成单词数组\n        let words = wordFrequency(parseWord(res));\n\n        // 创建缓存文件\n        return writeTemp(words)\n            .then( () => Promise.resolve(words))\n    })\n    .then(res => {\n        let result = res;\n        console.log(result)\n        // result.splice(980,result.length-980);\n        //\n        // when.map(result, (e,i) => {\n        //     return getTranslation(e.name)\n        //         .then( w => {\n        //             // console.log(JSON.parse(w))\n        //             result[i].tr = w;\n        //         });\n        // })\n        //     .then( () => {\n        //         console.log(result)\n        //         writeResult(result)\n        //     })\n\n    });\n}\n\n\n\n"]}